{% load static %}

<button data-formType="appointment" id="switch_form">Schedule Event</button>

  <form id="appointment_form" class="active" action="." method="POST">
      {% csrf_token %}

      {{ forms.appointment.as_p }}

      <p><input type="submit" value="Schedule"></p>
  </form>

  <form id="event_form" class="hidden" action="." method="POST">
      {% csrf_token %}

      {{ forms.event.as_p }}

      <p><input type="submit" value="Schedule"></p>
  </form>


<style type="text/css">
  .hidden {
    height: 0px;
    visibility: hidden;
  }
  .active .hidden {
    visibility: visible;
  }
</style>


<script type="text/javascript">
  document.getElementById('switch_form').addEventListener('click', function() {
    var reverse_of = {'appointment': 'event', 'event': 'appointment'};
    var active_form = this.dataset.formtype;
    var inactive_form = reverse_of[this.dataset.formtype];

    document.getElementById(active_form + '_form').classList.remove('active');
    document.getElementById(active_form + '_form').classList.add('hidden');
    document.getElementById(inactive_form + '_form').classList.remove('hidden');
    document.getElementById(inactive_form + '_form').classList.add('active');

    this.dataset.formtype = inactive_form;
    this.innerHTML = 'Schedule ' + active_form.charAt(0).toUpperCase() + active_form.slice(1);
  });
  // function switchForm(form_type) {
  //   var form_container = form_type + '_form_container';
  //   var element = document.getElementById(form_container);
  //   element.classList.remove('active');
  //   element.classList.add('hidden');
  // }

//   $(document).ready(function() {
//   $(".toggle-button").on("click", function() {
//     $(this).closest(".testimonial-wrap").toggleClass("active");
//   });
// });
</script>